
@*@section scripts {
    <link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>

    <script>
        $(document).ready(function () {
            $.ajax({
                type: "POST",
                url: '/DatatableInAnotherWay/UserAuditTrail',
                dataType: "json",
                contentType: "application/json",
                success: function (response) {
                    console.log(response);
                    $.each(response, function (index, value) {
                        var tr = "<tr>";
                        tr += "<td>" + value.fld_ID + "</td>";
                        tr += "<td>" + value.fld_CreatedBy + "</td>";
                        tr += "<td>" + value.fld_UserActivity + "</td>";
                        tr += "<td>" + value.fld_CreatedDT + "</td>";
                        tr += "<td>" + '<input type="button" class="btn btn-success" onClick ="DetailsFunc(\'' + 101 + '\')" value="View" /> ' + "</tr>";

                        $("#tBody").append(tr);
                    });
                    $("#myTable").DataTable();
                }
            });
        });
    </script>
}
*@




@*@section scripts {
    <link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>

    <script>
        $(document).ready(function () {
            $("#myTable").DataTable({
                "processing": true,
                "serverSide": true,
                "filter": true,
                "ajax": {
                    "url": "http://localhost:5094/DatatableInAnotherWay/UserAuditTrail",
                    "type": "POST",
                    "datatype": "json"
                },
                //"columnDefs": [{
                //    targets: 0,
                //    render: function (data, type, row, meta) {
                //        return meta.row + meta.settings._iDisplayStart + 1;
                //    }
                //}],
                "columns": [
                    { "data": "fld_ID", "name": "Id", "autoWidth": true },
                    { "data": "fld_CreatedBy", "name": "User", "autoWidth": true },
                    { "data": "fld_UserActivity", "name": "Activity", "autoWidth": true },
                    { "data": "fld_CreatedDT", "name": "Date", "autoWidth": true },
                ]
            });
        });
    </script>
}

*@

<table id="tbl_model" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
    <thead>
        <tr>
            <th class="text-center"></th>
            <th class="text-center"><b>User</b></th>
            <th class="text-center"><b>Activity</b></th>
            <th class="text-center"><b>Date</b></th>
        </tr>
    </thead>
</table>

@section scripts {
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#tbl_model').DataTable({
                processing: true,
                serverSide: true,
                filter: true,
                "ajax": {
                    "url": "@Url.Action("UserAuditTrail","DatatableInAnotherWay")",
                    "type": "POST",
                    "datatype": "json",
                    "dataSrc": function (msg) {
                        console.log(msg);
                        return msg;
                    }
                },
                "columnDefs": [{
                    targets: 0,
                    render: function (data, type, row, meta) {
                        return meta.row + meta.settings._iDisplayStart + 1;
                    }
                }],
                "columns": [
                    { "data": "fld_ID", "name": "Id", "autoWidth": true },
                    { "data": "fld_CreatedBy", "name": "User", "autoWidth": true },
                    { "data": "fld_UserActivity", "name": "Activity", "autoWidth": true },
                    { "data": "fld_CreatedDT", "name": "Date", "autoWidth": true },
                ]
            });

        });
    </script>
}

@*<form enctype="multipart/form-data" asp-controller="" asp-action="">
    <a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip" data-original-title="Attach files" data-placement="top">

        <div>
            <input type="file" required onChange="UploadImage()" id="selectedFile" name="formFile" />
            <label for="choose-file"> <i class="fal fa-paperclip color-fusion-300"></i></label>
        </div>


    </a>
    <button class="btn btn-info shadow-0 ml-auto " type="submit" id="submit" onclick="addCode()">Post</button>
    <div class="progress col-md-3">
        <div class="progress-bar" id="thePgBar" role="progressbar" aria-label="Example with label" style="width:5%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="50">0%</div> 
        <strong><span class="label label-primary" id="statusSpan" style="margin-left:1px"></span></strong>
    </div>
</form>
@section scripts {
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script>
        $('#statusSpan').hide();
        var UploadImage = function () {
            var data = new FormData;
            var file = $("#selectedFile").get(0);
            var files = file.files;

            if (files == null) {
                alert("Select File");
                return false;
            }
           

            for (var i = 0; i < files.length; i++) {
                data.append('filearray', files[i]);
                data.append('filesize', files[i].size);
            }
            data.append('path', "img\\selectedFile\\");
            console.log(file);

            $.ajax({
                xhr: function () {
                    var xhr = new window.XMLHttpRequest();

                    xhr.upload.addEventListener("progress", function (evt) {
                        if (evt.lengthComputable) {
                            var percentComplete = evt.loaded / evt.total;
                            percentComplete = parseInt(percentComplete * 100);

                            $('.progress-bar').width(percentComplete + '%');
                            $('.progress-bar').html(percentComplete + '%');
                            $('.progress-bar').attr('aria-valuenow', percentComplete + '%');
                            $('#thePgBar').attr('width', percentComplete + '%');

                        }
                    }, false);

                    return xhr;
                },
                url: '@Url.Action("AutoFileUpload", "LoopUpload")',
                type: "POST",
                data: data,
                contentType: false,
                processData: false
            }).done(function (result) {
                console.log(result);
                if (result.status == "success") {
                    $('#statusSpan').show();
                    $('#statusSpan').removeClass('label label-primary').addClass('label label-success');
                    $('#statusSpan').text("Uploaded!");
                }

            }).fail(function (result) {
                if (result.status != "success") {
                    $('#statusSpan').removeClass('label label-primary').addClass('label label-danger');
                    $('#status').text("Faild!");

                }
            });
        }
    </script>
}
    *@

<form enctype="multipart/form-data" asp-controller="" asp-action="">
    <a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip" data-original-title="Attach files" data-placement="top">

        <div>
            <input type="file" required onChange="UploadImage()" id="selectedFile" name="formFile" />
            <label for="choose-file"> <i class="fal fa-paperclip color-fusion-300"></i></label>
        </div>


    </a>
    <button class="btn btn-info shadow-0 ml-auto " type="submit" id="submit" onclick="addCode()">Post</button>
    <div class="col-md-3">
        <strong><span class="label label-primary" id="statusSpan" style="margin-left:1px"></span></strong>
    </div>
</form>
@section scripts {
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script>
        $('#statusSpan').hide();
        var UploadImage = function () {
            var data = new FormData;
            var file = $("#selectedFile").get(0);
            var files = file.files;

            if (files == null) {
                alert("Select File");
                return false;
            }


            for (var i = 0; i < files.length; i++) {
                data.append('filearray', files[i]);
                data.append('filesize', files[i].size);
            }
            data.append('path', "img\\selectedFile\\");
            console.log(file);

            $.ajax({
                url: '@Url.Action("AutoFileUpload", "LoopUpload")',
                type: "POST",
                data: data,
                contentType: false,
                processData: false
            }).done(function (result) {
                console.log(result);
                if (result.status == "success") {
                    $('#statusSpan').show();
                    $('#statusSpan').text("Uploaded!");
                }

            }).fail(function (result) {
                if (result.status != "success") {
                    $('#status').text("Faild!");

                }
            });
        }
    </script>
}